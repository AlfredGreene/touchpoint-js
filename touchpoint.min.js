/*!
 * TouchPoint.js 1.0.0 Beta
 * A JavaScript library that visually shows taps/cicks on HTML prototypes.
 * http://jonahvsweb.com
 *
 * Copyright (c) 2015 Jonah Bitautas <jonahvsweb@gmail.com>
 *
 * Released under the MIT license
 * LICENSE.txt
 */
var TouchPoint;!function(){"use strict";function t(){var t;do t=Math.floor(1e9*Math.random());while(t in e);return t}TouchPoint={el:"div",dom:window,styleEl:"",color:"#FFF",opacity:.8,size:20,scale:8,tp:"",z:9999,init:function(t){TouchPoint.dom=t,TouchPoint.createCss(".tp-init","position: absolute; width: "+TouchPoint.size+"px; height: "+TouchPoint.size+"px; background-color: "+TouchPoint.color+"; opacity: "+TouchPoint.opacity+"; border-radius: 20px; -ms-transform: scale(0.5); -webkit-transform: scale(0.5); -moz-transform: scale(0.5); -o-transform: scale(0.5); transform: scale(0.5); -ms-transition: all 0.5s ease-out; -webkit-transition: all 0.5s ease-out; -moz-transition: all 0.5s ease-out; -o-transition: all 0.5s ease-out; transition: all 0.5s ease-out; z-index: "+TouchPoint.z+";").createCss(".tp-anim","-ms-transform: scale("+TouchPoint.scale+"); -webkit-transform: scale("+TouchPoint.scale+"); -moz-transform: scale("+TouchPoint.scale+"); -o-transform: scale("+TouchPoint.scale+"); transform: scale("+TouchPoint.scale+"); opacity: 0;"),TouchPoint.dom.addEventListener("click",TouchPoint.create,!1)},create:function(t){return TouchPoint.dom.removeEventListener("click",TouchPoint.create,!1),TouchPoint.tp=document.createElement(TouchPoint.el),TouchPoint.tp.setAttribute("id","touchpoint"),TouchPoint.tp.style.left=t.clientX-.5*TouchPoint.size+"px",TouchPoint.tp.style.top=t.clientY-.5*TouchPoint.size+"px",TouchPoint.tp.className="tp-init",document.body.appendChild(TouchPoint.tp),requestNextAnimationFrame(function(){TouchPoint.tp.className+=" tp-anim"}),TouchPoint.tp.addEventListener("transitionend",TouchPoint.gc,!1),TouchPoint},gc:function(t){var e=document.body.querySelector("#touchpoint");e&&(t.target.removeEventListener("transitionend",TouchPoint.gc,!1),document.body.removeChild(e),TouchPoint.reInit())},reInit:function(){TouchPoint.dom.addEventListener("click",TouchPoint.create,!1)},createCss:function(t,e){for(var o=document.getElementsByTagName("head")[0],n=0;n<o.childNodes.length;n+=1){if("style"===o.getElementsByTagName("style")[n].tagName.toLowerCase()){o.getElementsByTagName("style")[n].innerHTML+=t+" { "+e+" }",TouchPoint.styleEl=o.getElementsByTagName("style")[n];break}TouchPoint.styleEl=document.createElement("style"),TouchPoint.styleEl.type="text/css",TouchPoint.styleEl.innerHTML=t+" { "+e+" }",o.appendChild(TouchPoint.styleEl);break}return TouchPoint}};var e={};window.requestNextAnimationFrame||(window.requestNextAnimationFrame=function(o,n){var i=t();return e[i]=requestAnimationFrame(function(){e[i]=requestAnimationFrame(function(t){delete e[i],o(t)},n)},n),i}),window.cancelNextAnimationFrame||(window.cancelNextAnimationFrame=function(t){e[t]&&(cancelAnimationFrame(e[t]),delete e[t])})}();